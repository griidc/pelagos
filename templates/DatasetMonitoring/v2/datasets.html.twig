<div id="tooltipContainer"></div>
{% if fundingOrganization %}
    <span class="font-bold block text-lg">Datasets for: {{ fundingOrganization.name }}</span>

    {% for fundingCycle in fundingOrganization.fundingCycles | sortBy(["fundingCycle.name"]) %}
        {% if datasetFilter == "only" and fundingCycle.datasets|submittedDIFs|length == 0 %}
            {# NOTHING #}
        {% else %}
            <span class="font-bold block">Funding Cycle: {{fundingCycle.name}}</span>

            {% for researchGroup in fundingCycle.researchGroups | sortBy(["researchGroup.name"]) %}
                {% if datasetFilter == "only" and researchGroup.datasets|submittedDIFs|length == 0 %}
                    {# NOTHING #}
                {% else %}
                    {% include 'DatasetMonitoring/v2/researchGroups.html.twig' with {'groupByResearchGroup': false, 'fundingCycle': fundingCycle, 'researchGroup': researchGroup  } %}
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endfor %}
{% endif %}

{% if fundingCycle %}
    <span class="font-bold block text-lg">Datasets for: {{ fundingCycle.name }}</span>

    {% for researchGroup in fundingCycle.researchGroups | sortBy(["researchGroup.name"]) %}
        {% if datasetFilter == "only" and researchGroup.datasets|submittedDIFs|length == 0 %}
            {# NOTHING #}
        {% else %}
            {% include 'DatasetMonitoring/v2/researchGroups.html.twig' with {'groupByResearchGroup': false, 'fundingCycle': fundingCycle, 'researchGroup': researchGroup } %}
        {% endif %}
    {% endfor %}
{% endif %}

{% if researchGroup %}
    <span class="font-bold block text-lg">Datasets for: {{ researchGroup.name }}</span>

    {% include 'DatasetMonitoring/v2/researchGroups.html.twig' with {'researchGroup': researchGroup} %}
{% endif %}